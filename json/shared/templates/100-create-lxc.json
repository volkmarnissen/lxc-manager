{
  "execute_on": "ve",
  "name": "Create LXC Container",
  "description": "Create LXC container on Proxmox host",
  "parameters": [
    {
      "id": "vm_id",
      "name": "ID of the virtual machine",
      "type": "number",
      "default": "",
      "description": "ID of the virtual machine",
      "advanced": true
    },
    {
      "id": "template_path",
      "name": "Path to the LXC template",
      "type": "string",
      "required": true,
      "description": "Path to the LXC template (e.g. local:vztmpl/alpine-3.19-default_20231107_amd64.tar.xz). Auto-selected by installer for Alpine. Must be provided by 010-get-latest-os-template.json template."
    },
    {
      "id": "disk_size",
      "name": "Disk size",
      "type": "string",
      "default": "4",
      "description": "Disk size for the container in GB",
      "advanced": true
    },
    {
      "id": "memory",
      "name": "Memory in MB",
      "type": "number",
      "default": 512,
      "description": "Memory for the container in MB",
      "advanced": true
    },
    {
      "id": "bridge",
      "name": "Network bridge",
      "type": "string",
      "default": "vmbr0",
      "description": "Network bridge to use",
      "advanced": true
    },
    {
      "id": "hostname",
      "name": "Hostname",
      "required": true,
      "type": "string",
      "description": "Hostname for the LXC container"
    }
  ],
  "outputs": ["vm_id"],
  "commands": [
    {
      "script": "create-lxc-container.sh"
    }
  ]
}
