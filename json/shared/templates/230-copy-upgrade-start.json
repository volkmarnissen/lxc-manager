{
  "execute_on": "ve",
  "name": "Copy-Upgrade Start/Stop",
  "description": "Stops the source LXC container and starts the newly created target container. If starting the target fails, the source container is started again.",
  "parameters": [
    {
      "id": "source_vm_id",
      "name": "Source VM ID",
      "type": "number",
      "required": true,
      "description": "Existing (source) LXC container ID that will be stopped before starting the target container."
    },
    {
      "id": "vm_id",
      "name": "Target VM ID",
      "type": "number",
      "required": true,
      "description": "New (target) LXC container ID to start."
    },
    {
      "id": "template_path",
      "name": "Template Path",
      "type": "string",
      "required": true,
      "description": "Path to the downloaded OCI template (from 011-get-oci-image.json)."
    },
    {
      "id": "ostype",
      "name": "OS Type",
      "type": "string",
      "default": "",
      "advanced": true,
      "description": "Optional OS type for the target container."
    },
    {
      "id": "oci_image",
      "name": "OCI Image",
      "type": "string",
      "required": true,
      "description": "OCI image reference used for notes/markers."
    },
    {
      "id": "application_id",
      "name": "Application ID",
      "type": "string",
      "default": "",
      "advanced": true,
      "description": "Optional application ID used in notes/markers."
    },
    {
      "id": "application_name",
      "name": "Application Name",
      "type": "string",
      "default": "",
      "advanced": true,
      "description": "Optional application name used in notes/markers."
    }
  ],
  "commands": [
    {
      "name": "Stop Source / Start Target",
      "script": "copy-upgrade-start.sh"
    }
  ]
}